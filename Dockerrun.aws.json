{
    "AWSEBDockerrunVersion": 2,
    "containerDefinitions": [
        {
            "environment": [
                {
                    "name": "PORT",
                    "value": "22"
                }
            ],
            "essential": false,
            "memoryReservation": 64,
            "image": "nkeymobile/docker-parse-server:git",
            "name": "git",
            "portMappings": [
                {
                    "containerPort": 22,
                    "hostPort": 2022
                }
            ],
            "volumesFrom": [
                {
                    "sourceContainer": "parse-server"
                }
            ]
        },
        {
            "environment": [
                {
                    "name": "NGINX_DOCKER_GEN_CONTAINER",
                    "value": "nginx-gen"
                }
            ],
            "essential": false,
            "memoryReservation": 64,
            "image": "jrcs/letsencrypt-nginx-proxy-companion",
            "mountPoints": [
                {
                    "containerPath": "/var/run/docker.sock",
                    "sourceVolume": "VarRunDocker_Sock",
                    "readOnly": true
                },
                {
                    "containerPath": "/etc/nginx/certs",
                    "sourceVolume": "_VolumesProxyCerts"
                }
            ],
            "name": "letsencrypt-nginx-proxy-companion",
            "volumesFrom": [
                {
                    "sourceContainer": "nginx"
                }
            ]
        },
        {
            "essential": true,
            "memoryReservation": 64,
            "image": "nginx",
            "mountPoints": [
                {
                    "containerPath": "/etc/nginx/conf.d",
                    "sourceVolume": "EtcNginxConf_D"
                },
                {
                    "containerPath": "/etc/nginx/vhost.d",
                    "sourceVolume": "EtcNginxVhost_D"
                },
                {
                    "containerPath": "/usr/share/nginx/html",
                    "sourceVolume": "UsrShareNginxHtml"
                },
                {
                    "containerPath": "/etc/nginx/certs",
                    "sourceVolume": "_VolumesProxyCerts",
                    "readOnly": true
                }
            ],
            "name": "nginx",
            "portMappings": [
                {
                    "containerPort": 80,
                    "hostPort": 80
                },
                {
                    "containerPort": 443,
                    "hostPort": 443
                }
            ]
        },
        {
            "command": [
                "/usr/local/bin/docker-gen",
                "-notify-sighup",
                "nginx",
                "-watch",
                "-only-exposed",
                "-wait",
                "5s:30s",
                "/etc/docker-gen/templates/nginx.tmpl",
                "/etc/nginx/conf.d/default.conf"
            ],
            "essential": false,
            "memoryReservation": 64,
            "image": "jwilder/docker-gen",
            "mountPoints": [
                {
                    "containerPath": "/tmp/docker.sock",
                    "sourceVolume": "VarRunDocker_Sock",
                    "readOnly": true
                },
                {
                    "containerPath": "/etc/docker-gen/templates/nginx.tmpl",
                    "sourceVolume": "_VolumesProxyTemplatesNginx_Tmpl",
                    "readOnly": true
                }
            ],
            "name": "nginx-gen",
            "volumesFrom": [
                {
                    "sourceContainer": "nginx"
                }
            ]
        },
        {
            "environment": [
                {
                    "name": "APP_ID",
                    "value": "$APP_ID"
                },
                {
                    "name": "MASTER_KEY",
                    "value": "$MASTER_KEY"
                },
                {
                    "name": "APP_NAME",
                    "value": "$APP_NAME"
                },
                {
                    "name": "ALLOW_INSECURE_HTTP",
                    "value": "$PARSE_DASHBOARD_ALLOW_INSECURE_HTTP"
                },
                {
                    "name": "USER1",
                    "value": "$USER1"
                },
                {
                    "name": "USER1_PASSWORD",
                    "value": "$USER1_PASSWORD"
                },
                {
                    "name": "PARSE_DASHBOARD_ALLOW_INSECURE_HTTP",
                    "value": "$PARSE_DASHBOARD_ALLOW_INSECURE_HTTP"
                },
                {
                    "name": "SERVER_URL",
                    "value": "$SERVER_URL"
                },
                {
                    "name": "PARSE_DASHBOARD_SERVER_URL",
                    "value": "$SERVER_URL"
                },
                {
                    "name": "PARSE_DASHBOARD_MASTER_KEY",
                    "value": "$MASTER_KEY"
                },
                {
                    "name": "PARSE_DASHBOARD_APP_ID",
                    "value": "$APP_ID"
                },
                {
                    "name": "PARSE_DASHBOARD_APP_NAME",
                    "value": "$APP_NAME"
                },
                {
                    "name": "PARSE_DASHBOARD_USER_ID",
                    "value": "$USER1"
                },
                {
                    "name": "PARSE_DASHBOARD_USER_PASSWORD",
                    "value": "$USER1_PASSWORD"
                },
                {
                    "name": "PARSE_DASHBOARD_CONFIG",
                    "value": "$PARSE_DASHBOARD_CONFIG"
                },
                {
                    "name": "MOUNT_PATH",
                    "value": "$PARSE_DASHBOARD_MOUNT_PATH"
                },
                {
                    "name": "TRUST_PROXY",
                    "value": "$PARSE_DASHBOARD_TRUST_PROXY"
                },
                {
                    "name": "VIRTUAL_HOST",
                    "value": "$PARSE_DASHBOARD_VIRTUAL_HOST"
                },
                {
                    "name": "LETSENCRYPT_HOST",
                    "value": "$PARSE_DASHBOARD_LETSENCRYPT_HOST"
                },
                {
                    "name": "LETSENCRYPT_EMAIL",
                    "value": "$PARSE_DASHBOARD_LETSENCRYPT_EMAIL"
                },
                {
                    "name": "PORT",
                    "value": "4040"
                }
            ],
            "essential": true,
            "memoryReservation": 128,
            "image": "yongjhih/parse-dashboard",
            "name": "parse-dashboard",
            "portMappings": [
                {
                    "containerPort": 4040,
                    "hostPort": 4040
                }
            ],
            "links": [
                "parse-server"
            ]
        },
        {
            "environment": [
                {
                    "name": "PORT",
                    "value": "1337"
                },
                {
                    "name": "DATABASE_URI",
                    "value": "$DATABASE_URI"
                },
                {
                    "name": "CLOUD_CODE_MAIN",
                    "value": "$CLOUD_CODE_MAIN"
                },
                {
                    "name": "APP_ID",
                    "value": "$APP_ID"
                },
                {
                    "name": "MASTER_KEY",
                    "value": "$MASTER_KEY"
                },
                {
                    "name": "PARSE_MOUNT",
                    "value": "$PARSE_MOUNT"
                },
                {
                    "name": "COLLECTION_PREFIX",
                    "value": "$COLLECTION_PREFIX"
                },
                {
                    "name": "CLIENT_KEY",
                    "value": "$CLIENT_KEY"
                },
                {
                    "name": "REST_API_KEY",
                    "value": "$REST_API_KEY"
                },
                {
                    "name": "DOTNET_KEY",
                    "value": "$DOTNET_KEY"
                },
                {
                    "name": "JAVASCRIPT_KEY",
                    "value": "$JAVASCRIPT_KEY"
                },
                {
                    "name": "FILE_KEY",
                    "value": "$FILE_KEY"
                },
                {
                    "name": "FACEBOOK_APP_IDS",
                    "value": "$FACEBOOK_APP_IDS"
                },
                {
                    "name": "SERVER_URL",
                    "value": "$SERVER_URL"
                },
                {
                    "name": "MAX_UPLOAD_SIZE",
                    "value": "$MAX_UPLOAD_SIZE"
                },
                {
                    "name": "GCM_ID",
                    "value": "$GCM_ID"
                },
                {
                    "name": "GCM_KEY",
                    "value": "$GCM_KEY"
                },
                {
                    "name": "PRODUCTION_PFX",
                    "value": "$PRODUCTION_PFX"
                },
                {
                    "name": "PRODUCTION_PASSPHRASE",
                    "value": "$PRODUCTION_PASSPHRASE"
                },
                {
                    "name": "PRODUCTION_BUNDLE_ID",
                    "value": "$PRODUCTION_BUNDLE_ID"
                },
                {
                    "name": "PRODUCTION_CERT",
                    "value": "$PRODUCTION_CERT"
                },
                {
                    "name": "PRODUCTION_KEY",
                    "value": "$PRODUCTION_KEY"
                },
                {
                    "name": "DEV_PFX",
                    "value": "$DEV_PFX"
                },
                {
                    "name": "DEV_PASSPHRASE",
                    "value": "$DEV_PASSPHRASE"
                },
                {
                    "name": "DEV_BUNDLE_ID",
                    "value": "$DEV_BUNDLE_ID"
                },
                {
                    "name": "DEV_CERT",
                    "value": "$DEV_CERT"
                },
                {
                    "name": "DEV_KEY",
                    "value": "$DEV_KEY"
                },
                {
                    "name": "VERIFY_USER_EMAILS",
                    "value": "$VERIFY_USER_EMAILS"
                },
                {
                    "name": "EMAIL_MODULE",
                    "value": "$EMAIL_MODULE"
                },
                {
                    "name": "EMAIL_FROM",
                    "value": "$EMAIL_FROM"
                },
                {
                    "name": "EMAIL_DOMAIN",
                    "value": "$EMAIL_DOMAIN"
                },
                {
                    "name": "EMAIL_API_KEY",
                    "value": "$EMAIL_API_KEY"
                },
                {
                    "name": "EMAIL_DISPLAY_NAME",
                    "value": "$EMAIL_DISPLAY_NAME"
                },
                {
                    "name": "EMAIL_REPLY_TO",
                    "value": "$EMAIL_REPLY_TO"
                },
                {
                    "name": "EMAIL_VERIFICATION_SUBJECT",
                    "value": "$EMAIL_VERIFICATION_SUBJECT"
                },
                {
                    "name": "EMAIL_VERIFICATION_BODY",
                    "value": "$EMAIL_VERIFICATION_BODY"
                },
                {
                    "name": "EMAIL_PASSWORD_RESET_SUBJECT",
                    "value": "$EMAIL_PASSWORD_RESET_SUBJECT"
                },
                {
                    "name": "EMAIL_PASSWORD_RESET_BODY",
                    "value": "$EMAIL_PASSWORD_RESET_BODY"
                },
                {
                    "name": "ENABLE_ANON_USERS",
                    "value": "$ENABLE_ANON_USERS"
                },
                {
                    "name": "ALLOW_CLIENT_CLASS_CREATION",
                    "value": "$ALLOW_CLIENT_CLASS_CREATION"
                },
                {
                    "name": "PARSE_EXPERIMENTAL_CONFIG_ENABLED",
                    "value": "$PARSE_EXPERIMENTAL_CONFIG_ENABLED"
                },
                {
                    "name": "TESTING",
                    "value": "$TESTING"
                },
                {
                    "name": "APP_NAME",
                    "value": "$APP_NAME"
                },
                {
                    "name": "PUBLIC_SERVER_URL",
                    "value": "$PUBLIC_SERVER_URL"
                },
                {
                    "name": "TRUST_PROXY",
                    "value": "$TRUST_PROXY"
                },
                {
                    "name": "S3_ACCESS_KEY",
                    "value": "$S3_ACCESS_KEY"
                },
                {
                    "name": "S3_SECRET_KEY",
                    "value": "$S3_SECRET_KEY"
                },
                {
                    "name": "S3_BUCKET",
                    "value": "$S3_BUCKET"
                },
                {
                    "name": "S3_DIRECT",
                    "value": "$S3_DIRECT"
                },
                {
                    "name": "GCP_PROJECT_ID",
                    "value": "$GCP_PROJECT_ID"
                },
                {
                    "name": "GCP_KEYFILE_PATH",
                    "value": "$GCP_KEYFILE_PATH"
                },
                {
                    "name": "GCS_BUCKET",
                    "value": "$GCS_BUCKET"
                },
                {
                    "name": "GCS_DIRECT",
                    "value": "$GCS_DIRECT"
                },
                {
                    "name": "AZURE_ACCOUNT",
                    "value": "$AZURE_ACCOUNT"
                },
                {
                    "name": "AZURE_CONTAINER",
                    "value": "$AZURE_CONTAINER"
                },
                {
                    "name": "AZURE_ACCESS_KEY",
                    "value": "$AZURE_ACCESS_KEY"
                },
                {
                    "name": "AZURE_DIRECT",
                    "value": "$AZURE_DIRECT"
                },
                {
                    "name": "VIRTUAL_HOST",
                    "value": "$PARSE_SERVER_VIRTUAL_HOST"
                },
                {
                    "name": "LETSENCRYPT_HOST",
                    "value": "$PARSE_SERVER_LETSENCRYPT_HOST"
                },
                {
                    "name": "LETSENCRYPT_EMAIL",
                    "value": "$PARSE_SERVER_LETSENCRYPT_EMAIL"
                },
                {
                    "name": "GRAPHQL_SUPPORT",
                    "value": "$GRAPHQL_SUPPORT"
                },
                {
                    "name": "GRAPHQL_SCHEMA",
                    "value": "$GRAPHQL_SCHEMA"
                }
            ],
            "essential": true,
            "memoryReservation": 128,
            "image": "nkeymobile/docker-parse-server",
            "mountPoints": [
                {
                    "containerPath": "/parse/cloud",
                    "sourceVolume": "Parse-Cloud-Code"
                },
                {
                    "containerPath": "/certs",
                    "sourceVolume": "_VolumesCerts"
                }
            ],
            "name": "parse-server",
            "portMappings": [
                {
                    "containerPort": 1337,
                    "hostPort": 1337
                }
            ]
        }
    ],
    "volumes": [
        {
            "host": {
                "sourcePath": "/parse-cloud-code"
            },
            "name": "Parse-Cloud-Code"
        },
        {
            "host": {
                "sourcePath": "/var/app/current/volumes/certs"
            },
            "name": "_VolumesCerts"
        },
        {
            "host": {
                "sourcePath": "/etc/nginx/conf.d"
            },
            "name": "EtcNginxConf_D"
        },
        {
            "host": {
                "sourcePath": "/etc/nginx/vhost.d"
            },
            "name": "EtcNginxVhost_D"
        },
        {
            "host": {
                "sourcePath": "/usr/share/nginx/html"
            },
            "name": "UsrShareNginxHtml"
        },
        {
            "host": {
                "sourcePath": "/var/app/current/volumes/proxy/certs"
            },
            "name": "_VolumesProxyCerts"
        },
        {
            "host": {
                "sourcePath": "/var/run/docker.sock"
            },
            "name": "VarRunDocker_Sock"
        },
        {
            "host": {
                "sourcePath": "/var/app/current/volumes/proxy/templates/nginx.tmpl"
            },
            "name": "_VolumesProxyTemplatesNginx_Tmpl"
        }
    ]
}
